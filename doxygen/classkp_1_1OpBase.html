<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kompute: kp::OpBase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Kompute
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>kp</b></li><li class="navelem"><a class="el" href="classkp_1_1OpBase.html">OpBase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classkp_1_1OpBase-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">kp::OpBase Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="OpBase_8hpp_source.html">OpBase.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for kp::OpBase:</div>
<div class="dyncontent">
<div class="center"><img src="classkp_1_1OpBase__inherit__graph.png" border="0" usemap="#akp_1_1OpBase_inherit__map" alt="Inheritance graph"/></div>
<map name="kp_1_1OpBase_inherit__map" id="kp_1_1OpBase_inherit__map">
<area shape="rect" title=" " alt="" coords="109,5,200,32"/>
<area shape="rect" href="classkp_1_1OpCreateTensor.html" title=" " alt="" coords="5,87,144,114"/>
<area shape="rect" href="classkp_1_1OpMult.html" title=" " alt="" coords="169,80,303,121"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad0b568269057a48cf5c71c5616bba750"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkp_1_1OpBase.html#ad0b568269057a48cf5c71c5616bba750">OpBase</a> ()</td></tr>
<tr class="separator:ad0b568269057a48cf5c71c5616bba750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab84b915d9e0627590c34a1f83dad0a9e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkp_1_1OpBase.html#ab84b915d9e0627590c34a1f83dad0a9e">OpBase</a> (std::shared_ptr&lt; vk::PhysicalDevice &gt; physicalDevice, std::shared_ptr&lt; vk::Device &gt; device, std::shared_ptr&lt; vk::CommandBuffer &gt; commandBuffer, std::vector&lt; std::shared_ptr&lt; <a class="el" href="classkp_1_1Tensor.html">Tensor</a> &gt;&gt; &amp;tensors, bool freeTensors)</td></tr>
<tr class="separator:ab84b915d9e0627590c34a1f83dad0a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5b719d2df26953915763249a351f3c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkp_1_1OpBase.html#aa5b719d2df26953915763249a351f3c7">~OpBase</a> ()</td></tr>
<tr class="separator:aa5b719d2df26953915763249a351f3c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1fb6bd20031f0a70b5ef881f88de721"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkp_1_1OpBase.html#af1fb6bd20031f0a70b5ef881f88de721">init</a> ()=0</td></tr>
<tr class="separator:af1fb6bd20031f0a70b5ef881f88de721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a242dbf4582c0b3b1d1a1f2a2207833ef"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkp_1_1OpBase.html#a242dbf4582c0b3b1d1a1f2a2207833ef">record</a> ()=0</td></tr>
<tr class="separator:a242dbf4582c0b3b1d1a1f2a2207833ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38e7e80ccfd7f6d1f6ccc408610bda13"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkp_1_1OpBase.html#a38e7e80ccfd7f6d1f6ccc408610bda13">postSubmit</a> ()=0</td></tr>
<tr class="separator:a38e7e80ccfd7f6d1f6ccc408610bda13"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af12ad54e093f470ded81f160d8eb0692"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classkp_1_1Tensor.html">Tensor</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkp_1_1OpBase.html#af12ad54e093f470ded81f160d8eb0692">mTensors</a></td></tr>
<tr class="separator:af12ad54e093f470ded81f160d8eb0692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb08c638efbe48d63bc91d9c02d91519"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkp_1_1OpBase.html#abb08c638efbe48d63bc91d9c02d91519">mFreeTensors</a> = false</td></tr>
<tr class="separator:abb08c638efbe48d63bc91d9c02d91519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0896d76ccfb1aca3aace9e60acbc1377"><td class="memItemLeft" align="right" valign="top"><a id="a0896d76ccfb1aca3aace9e60acbc1377"></a>
std::shared_ptr&lt; vk::PhysicalDevice &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkp_1_1OpBase.html#a0896d76ccfb1aca3aace9e60acbc1377">mPhysicalDevice</a></td></tr>
<tr class="memdesc:a0896d76ccfb1aca3aace9e60acbc1377"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vulkan Physical Device. <br /></td></tr>
<tr class="separator:a0896d76ccfb1aca3aace9e60acbc1377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9029cd39aa5852b066e11bfabc0dc05"><td class="memItemLeft" align="right" valign="top"><a id="aa9029cd39aa5852b066e11bfabc0dc05"></a>
std::shared_ptr&lt; vk::Device &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkp_1_1OpBase.html#aa9029cd39aa5852b066e11bfabc0dc05">mDevice</a></td></tr>
<tr class="memdesc:aa9029cd39aa5852b066e11bfabc0dc05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vulkan Logical Device. <br /></td></tr>
<tr class="separator:aa9029cd39aa5852b066e11bfabc0dc05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28b7404c84def62897456a2a64e774b1"><td class="memItemLeft" align="right" valign="top"><a id="a28b7404c84def62897456a2a64e774b1"></a>
std::shared_ptr&lt; vk::CommandBuffer &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkp_1_1OpBase.html#a28b7404c84def62897456a2a64e774b1">mCommandBuffer</a></td></tr>
<tr class="memdesc:a28b7404c84def62897456a2a64e774b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vulkan Command Buffer. <br /></td></tr>
<tr class="separator:a28b7404c84def62897456a2a64e774b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base Operation which provides the high level interface that Kompute operations implement in order to perform a set of actions in the GPU.</p>
<p>Operations can perform actions on tensors, and optionally can also own an <a class="el" href="classkp_1_1Algorithm.html">Algorithm</a> with respective parameters. kp::Operations with kp::Algorithms would inherit from kp::OpBaseAlgo. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad0b568269057a48cf5c71c5616bba750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0b568269057a48cf5c71c5616bba750">&#9670;&nbsp;</a></span>OpBase() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">kp::OpBase::OpBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Base constructor, should not be used unless explicitly intended. </p>

</div>
</div>
<a id="ab84b915d9e0627590c34a1f83dad0a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab84b915d9e0627590c34a1f83dad0a9e">&#9670;&nbsp;</a></span>OpBase() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">kp::OpBase::OpBase </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; vk::PhysicalDevice &gt;&#160;</td>
          <td class="paramname"><em>physicalDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; vk::Device &gt;&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; vk::CommandBuffer &gt;&#160;</td>
          <td class="paramname"><em>commandBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classkp_1_1Tensor.html">Tensor</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>tensors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>freeTensors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default constructor with parameters that provides the bare minimum requirements for the operations to be able to create and manage their sub-components.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">physicalDevice</td><td>Vulkan physical device used to find device queues </td></tr>
    <tr><td class="paramname">device</td><td>Vulkan logical device for passing to <a class="el" href="classkp_1_1Algorithm.html">Algorithm</a> </td></tr>
    <tr><td class="paramname">commandBuffer</td><td>Vulkan Command Buffer to record commands into </td></tr>
    <tr><td class="paramname">tensors</td><td>Tensors that are to be used in this operation </td></tr>
    <tr><td class="paramname">freeTensors</td><td>Whether operation manages the memory of the Tensors </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa5b719d2df26953915763249a351f3c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5b719d2df26953915763249a351f3c7">&#9670;&nbsp;</a></span>~OpBase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">kp::OpBase::~OpBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default destructor for <a class="el" href="classkp_1_1OpBase.html">OpBase</a> class. This <a class="el" href="classkp_1_1OpBase.html">OpBase</a> destructor class should always be called to destroy and free owned resources unless it is intended to destroy the resources in the parent class. This can be done by passing the mFreeTensors=false. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af1fb6bd20031f0a70b5ef881f88de721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1fb6bd20031f0a70b5ef881f88de721">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void kp::OpBase::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The init function is responsible for setting up all the resources and should be called after the Operation has been created. </p>

<p>Implemented in <a class="el" href="classkp_1_1OpMult.html#a91b0b3f5b4e2f590df819d094e0b9bad">kp::OpMult&lt; tX, tY, tZ &gt;</a>, and <a class="el" href="classkp_1_1OpCreateTensor.html#ad0961c7a2acec064f0253964616d0762">kp::OpCreateTensor</a>.</p>

</div>
</div>
<a id="a38e7e80ccfd7f6d1f6ccc408610bda13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38e7e80ccfd7f6d1f6ccc408610bda13">&#9670;&nbsp;</a></span>postSubmit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void kp::OpBase::postSubmit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Post submit is called after the <a class="el" href="classkp_1_1Sequence.html">Sequence</a> has submitted the commands to the GPU for processing, and can be used to perform any tear-down steps required as the computation iteration finishes. </p>

<p>Implemented in <a class="el" href="classkp_1_1OpMult.html#aa1dde9d4824dec8269c02a7526d6941d">kp::OpMult&lt; tX, tY, tZ &gt;</a>, and <a class="el" href="classkp_1_1OpCreateTensor.html#a43ef24dc63dc05abc8cee693f95d5b6a">kp::OpCreateTensor</a>.</p>

</div>
</div>
<a id="a242dbf4582c0b3b1d1a1f2a2207833ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a242dbf4582c0b3b1d1a1f2a2207833ef">&#9670;&nbsp;</a></span>record()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void kp::OpBase::record </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The record function is intended to only send a record command or run commands that are expected to record operations that are to be submitted as a batch into the GPU. </p>

<p>Implemented in <a class="el" href="classkp_1_1OpMult.html#a2520a9b07461a434b8e1fa87b467e5a1">kp::OpMult&lt; tX, tY, tZ &gt;</a>, and <a class="el" href="classkp_1_1OpCreateTensor.html#a42f0876e55b1f5e74fb34504d4cd6b5b">kp::OpCreateTensor</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="abb08c638efbe48d63bc91d9c02d91519"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb08c638efbe48d63bc91d9c02d91519">&#9670;&nbsp;</a></span>mFreeTensors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool kp::OpBase::mFreeTensors = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Explicit boolean that specifies whether the tensors are freed (if they are managed) </p>

</div>
</div>
<a id="af12ad54e093f470ded81f160d8eb0692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af12ad54e093f470ded81f160d8eb0692">&#9670;&nbsp;</a></span>mTensors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::shared_ptr&lt;<a class="el" href="classkp_1_1Tensor.html">Tensor</a>&gt; &gt; kp::OpBase::mTensors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Tensors referenced by operation that can be managed optionally by operation </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/axsau/Programming/vulkan/vulkan-compute/src/include/kompute/operations/<a class="el" href="OpBase_8hpp_source.html">OpBase.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
